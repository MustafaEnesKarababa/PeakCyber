using VulnerabilityTest.Notifier;
using VulnerabilityTest.Notifier.Email;

var builder = Host.CreateApplicationBuilder(args);
builder.Configuration.AddJsonFile("/run/secrets/notifier_secret", optional: false, reloadOnChange: true);

builder.Services.AddHostedService<Worker>();

builder.Services.AddHttpClient();

// emailjs - smtp
builder.Services.AddSingleton<EmailJsSender>();

var host = builder.Build();
host.Run();
