{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nskar/OneDrive/Masa%C3%BCst%C3%BC/PeakCyber/VulnerabilityTestWebSite/www.vulnerabilityscan.com/src/api/auth.ts"],"sourcesContent":["\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:7095/api';\r\n\r\n\r\n//Login \r\n\r\nexport async function login(Email : string, Password : string){\r\n\r\n  const response = await fetch(`${API_BASE}/User/login`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email: Email, password: Password }),\r\n  });\r\n\r\n  \r\n\r\n  if (!response.ok) {\r\n    throw new Error(await response.text() || 'Login failed');\r\n  }\r\n\r\n\r\n  return response.json();\r\n}\r\n\r\n\r\n\r\n//Register\r\n\r\nexport async function register(email: string, password: string , username: string, ) {\r\n  const response = await fetch(`${API_BASE}/User/register`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    \r\n    body: JSON.stringify({ email, password, username }),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error(await response.text() || 'Registration failed');\r\n  }\r\n\r\n  return response.json();\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;AAEA,MAAM,WAAW,kEAAwC;AAKlD,eAAe,MAAM,KAAc,EAAE,QAAiB;IAE3D,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,WAAW,CAAC,EAAE;QACrD,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;YAAE,OAAO;YAAO,UAAU;QAAS;IAC1D;IAIA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,MAAM,SAAS,IAAI,MAAM;IAC3C;IAGA,OAAO,SAAS,IAAI;AACtB;AAMO,eAAe,SAAS,KAAa,EAAE,QAAgB,EAAG,QAAgB;IAC/E,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,cAAc,CAAC,EAAE;QACxD,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QAEA,MAAM,KAAK,SAAS,CAAC;YAAE;YAAO;YAAU;QAAS;IACnD;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM,MAAM,SAAS,IAAI,MAAM;IAC3C;IAEA,OAAO,SAAS,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nskar/OneDrive/Masa%C3%BCst%C3%BC/PeakCyber/VulnerabilityTestWebSite/www.vulnerabilityscan.com/src/api/token.ts"],"sourcesContent":["const KEY = 'auth_token';\r\n\r\nexport const saveToken = (token: string) => {\r\n  localStorage.setItem(KEY, token);\r\n}\r\n\r\nexport const getToken  = () => {\r\n  return localStorage.getItem(KEY);\r\n}\r\n\r\nexport const removeToken = () => {\r\n  localStorage.removeItem(KEY);\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA,MAAM,MAAM;AAEL,MAAM,YAAY,CAAC;IACxB,aAAa,OAAO,CAAC,KAAK;AAC5B;AAEO,MAAM,WAAY;IACvB,OAAO,aAAa,OAAO,CAAC;AAC9B;AAEO,MAAM,cAAc;IACzB,aAAa,UAAU,CAAC;AAC1B","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nskar/OneDrive/Masa%C3%BCst%C3%BC/PeakCyber/VulnerabilityTestWebSite/www.vulnerabilityscan.com/src/app/%28auth%29/login/page.tsx"],"sourcesContent":["'use client'\r\nimport { useState } from 'react';\r\nimport { login } from '@/api/auth';\r\nimport { useRouter } from 'next/navigation';\r\nimport { saveToken } from '@/api/token';\r\n\r\nexport default function LoginPage() {\r\n  \r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const onSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setLoading(true);\r\n\r\n    try{\r\n      const data = await login(email.trim(), password.trim());\r\n      const token = data.token || data.accessToken;\r\n      if (!token) {\r\n        throw new Error('No token received');\r\n      }\r\n      saveToken(token);\r\n      window.location.href = '/dashboard';\r\n    }\r\n    catch (e:any) {\r\n      setError(e.message || 'Login failed');\r\n    }\r\n    finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen grid place-items-center p-6\">\r\n      <form onSubmit={onSubmit} className=\"w-full max-w-sm space-y-3\">\r\n          <h1 className='text-2xl font-semibold'>Sign In</h1>\r\n\r\n          <input className='w-full border rounded p-2' type =\"email\"\r\n            placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} required>\r\n          </input>\r\n\r\n          <input className='w-full border rounded p-2' type =\"password\"\r\n            placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} required>\r\n          </input>\r\n\r\n          {error && <p className=\"text-red-600 text-sm whitespace-pre-wrap\">{error}</p>}\r\n\r\n          <button className='w-full rounded p-2 border' disabled={loading}>\r\n            {loading ? 'Logging in...' : 'Login'}\r\n          </button>\r\n          <p className='text-sm'>\r\n            Don't have an account? <a className='underline' href=\"/register\">Register</a>\r\n          </p>\r\n\r\n      </form>\r\n\r\n    </main>\r\n  );\r\n\r\n\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AAEA;AAJA;;;;;AAMe,SAAS;IAEtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,WAAW,OAAO;QACtB,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAG;YACD,MAAM,OAAO,MAAM,CAAA,GAAA,kHAAA,CAAA,QAAK,AAAD,EAAE,MAAM,IAAI,IAAI,SAAS,IAAI;YACpD,MAAM,QAAQ,KAAK,KAAK,IAAI,KAAK,WAAW;YAC5C,IAAI,CAAC,OAAO;gBACV,MAAM,IAAI,MAAM;YAClB;YACA,CAAA,GAAA,mHAAA,CAAA,YAAS,AAAD,EAAE;YACV,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB,EACA,OAAO,GAAO;YACZ,SAAS,EAAE,OAAO,IAAI;QACxB,SACQ;YACN,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAK,WAAU;kBACd,cAAA,8OAAC;YAAK,UAAU;YAAU,WAAU;;8BAChC,8OAAC;oBAAG,WAAU;8BAAyB;;;;;;8BAEvC,8OAAC;oBAAM,WAAU;oBAA4B,MAAM;oBACjD,aAAY;oBAAQ,OAAO;oBAAO,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBAAG,QAAQ;;;;;;8BAGvF,8OAAC;oBAAM,WAAU;oBAA4B,MAAM;oBACjD,aAAY;oBAAW,OAAO;oBAAU,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oBAAG,QAAQ;;;;;;gBAG/F,uBAAS,8OAAC;oBAAE,WAAU;8BAA4C;;;;;;8BAEnE,8OAAC;oBAAO,WAAU;oBAA4B,UAAU;8BACrD,UAAU,kBAAkB;;;;;;8BAE/B,8OAAC;oBAAE,WAAU;;wBAAU;sCACE,8OAAC;4BAAE,WAAU;4BAAY,MAAK;sCAAY;;;;;;;;;;;;;;;;;;;;;;;AAS7E","debugId":null}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nskar/OneDrive/Masa%C3%BCst%C3%BC/PeakCyber/VulnerabilityTestWebSite/www.vulnerabilityscan.com/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nskar/OneDrive/Masa%C3%BCst%C3%BC/PeakCyber/VulnerabilityTestWebSite/www.vulnerabilityscan.com/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nskar/OneDrive/Masa%C3%BCst%C3%BC/PeakCyber/VulnerabilityTestWebSite/www.vulnerabilityscan.com/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0],"debugId":null}}]
}