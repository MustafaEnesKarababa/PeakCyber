{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nskar/OneDrive/Masa%C3%BCst%C3%BC/PeakCyber/VulnerabilityTestWebSite/www.vulnerabilityscan.com/src/components/dashboard/Navbar.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/dashboard/Navbar.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/dashboard/Navbar.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAuS,GACpU,qEACA","debugId":null}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nskar/OneDrive/Masa%C3%BCst%C3%BC/PeakCyber/VulnerabilityTestWebSite/www.vulnerabilityscan.com/src/components/dashboard/Navbar.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/dashboard/Navbar.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/dashboard/Navbar.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAmR,GAChT,iDACA","debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nskar/OneDrive/Masa%C3%BCst%C3%BC/PeakCyber/VulnerabilityTestWebSite/www.vulnerabilityscan.com/src/components/dashboard/SideBar.tsx"],"sourcesContent":["'use Client';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\n\r\nexport default function SideBar({role} : {role: string}) {\r\n\r\n  const pathname = usePathname();\r\n\r\n  const links = [\r\n    { href: '/dashboard/start-scan', label: 'Start Scan' },\r\n    { href: '/dashboard/get-scan', label: 'Scan Result' },\r\n    { href: '/dashboard/my-scans', label: 'Scan History' }\r\n\r\n  ]\r\n\r\n  if(role === 'Admin') {\r\n    links.push(\r\n      { href: '/dashboard/manage-users', label: 'Manage Users' },\r\n      { href: '/dashboard/get-all-scans', label: 'All Scans' }\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <aside className='w-60 border-r p-3 space-y-1 bg-white'>\r\n      {links.map((link) => (\r\n        <Link\r\n          key={link.href}\r\n          href={link.href}\r\n          className={`block px-3 py-2 rounded text-sm\r\n             ${pathname === link.href ? 'bg-gray-200 font-medium' : 'hover:bg-gray-100  '}`}\r\n        >\r\n          {link.label}\r\n        </Link>\r\n      ))}\r\n    </aside>\r\n  )\r\n\r\n\r\n\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAAA;AAFA;;;;AAIe,SAAS,QAAQ,EAAC,IAAI,EAAkB;IAErD,MAAM,WAAW,CAAA,GAAA,qLAAA,CAAA,cAAW,AAAD;IAE3B,MAAM,QAAQ;QACZ;YAAE,MAAM;YAAyB,OAAO;QAAa;QACrD;YAAE,MAAM;YAAuB,OAAO;QAAc;QACpD;YAAE,MAAM;YAAuB,OAAO;QAAe;KAEtD;IAED,IAAG,SAAS,SAAS;QACnB,MAAM,IAAI,CACR;YAAE,MAAM;YAA2B,OAAO;QAAe,GACzD;YAAE,MAAM;YAA4B,OAAO;QAAY;IAE3D;IAEA,qBACE,8OAAC;QAAM,WAAU;kBACd,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC,4JAAA,CAAA,UAAI;gBAEH,MAAM,KAAK,IAAI;gBACf,WAAW,CAAC;aACT,EAAE,aAAa,KAAK,IAAI,GAAG,4BAA4B,uBAAuB;0BAEhF,KAAK,KAAK;eALN,KAAK,IAAI;;;;;;;;;;AAaxB","debugId":null}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nskar/OneDrive/Masa%C3%BCst%C3%BC/PeakCyber/VulnerabilityTestWebSite/www.vulnerabilityscan.com/src/api/token.ts"],"sourcesContent":["const KEY = 'auth_token';\r\n\r\nexport const saveToken = (token: string) => {\r\n  localStorage.setItem(KEY, token);\r\n}\r\n\r\nexport const getToken  = () => {\r\n  return localStorage.getItem(KEY);\r\n}\r\n\r\nexport const removeToken = () => {\r\n  localStorage.removeItem(KEY);\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA,MAAM,MAAM;AAEL,MAAM,YAAY,CAAC;IACxB,aAAa,OAAO,CAAC,KAAK;AAC5B;AAEO,MAAM,WAAY;IACvB,OAAO,aAAa,OAAO,CAAC;AAC9B;AAEO,MAAM,cAAc;IACzB,aAAa,UAAU,CAAC;AAC1B","debugId":null}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nskar/OneDrive/Masa%C3%BCst%C3%BC/PeakCyber/VulnerabilityTestWebSite/www.vulnerabilityscan.com/src/api/profile.ts"],"sourcesContent":["const API_BASE = process.env.NEXT_PUBLIC_API_BASE_URL || 'https://localhost:7095/api';\r\n\r\nimport {getToken} from '@/api/token';\r\n\r\nexport type Profile = {\r\n  id : number;\r\n  username: string;\r\n  email: string;\r\n  createdAt: string;\r\n  role: string;\r\n}\r\n\r\nexport async function getProfile() : Promise<Profile>{\r\n  const token = getToken();\r\n  if(!token){\r\n    throw new Error('No authentication token found');\r\n  }\r\n\r\n  const response = await fetch(`${API_BASE}/User/profile`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    },\r\n  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error('Failed to fetch user profile');\r\n  }\r\n\r\n  const data = await response.json();\r\n  return data;\r\n}"],"names":[],"mappings":";;;AAEA;AAFA,MAAM,WAAW,kEAAwC;;AAYlD,eAAe;IACpB,MAAM,QAAQ,CAAA,GAAA,mHAAA,CAAA,WAAQ,AAAD;IACrB,IAAG,CAAC,OAAM;QACR,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,aAAa,CAAC,EAAE;QACvD,QAAQ;QACR,SAAS;YACP,gBAAgB;YAChB,iBAAiB,CAAC,OAAO,EAAE,OAAO;QACpC;IACF;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAChC,OAAO;AACT","debugId":null}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nskar/OneDrive/Masa%C3%BCst%C3%BC/PeakCyber/VulnerabilityTestWebSite/www.vulnerabilityscan.com/src/app/dashboard/page.tsx"],"sourcesContent":["'use Client';\r\nimport { useState, useEffect } from 'react';\r\nimport Navbar from '@/components/dashboard/Navbar';\r\nimport SideBar from '@/components/dashboard/SideBar';\r\nimport { useRouter } from 'next/navigation';\r\nimport { getProfile } from '@/api/profile';\r\nimport { removeToken } from '@/api/token';\r\n\r\n\r\nexport default function DashboardLayout({children} : {children : React.ReactNode}){\r\n\r\n  const router = useRouter();\r\n  const [profile, setProfile] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    getProfile()\r\n      .then(setProfile)\r\n      .catch(()=> {removeToken(); router.push('/login');})\r\n      .finally(() => setLoading(false));\r\n\r\n  }, [router])\r\n\r\n  if(loading) {\r\n    return (\r\n      <main className=\"min-h-screen grid place-items-center p-6\">\r\n        <h1 className=\"text-2xl font-semibold\">Loading...</h1>\r\n      </main>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className='min-h-screen flex flex-col bg-gray-50'>\r\n      <Navbar\r\n        username = {profile.username}\r\n        role = {profile.role}  \r\n        onLogout={() => {\r\n          removeToken();\r\n          router.push('/login');\r\n        }}\r\n      />\r\n      <div className='flex flex-1'>\r\n        <SideBar\r\n           role = {profile.role} \r\n          />\r\n        <main className='flex-1 p-6 '>\r\n          {children}\r\n        </main>  \r\n      </div>\r\n          \r\n      \r\n    \r\n    </div>\r\n\r\n\r\n  )\r\n\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AANA;;;;;;;;AASe,SAAS,gBAAgB,EAAC,QAAQ,EAAgC;IAE/E,MAAM,SAAS,CAAA,GAAA,qLAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAO;IAC5C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,CAAA,GAAA,qHAAA,CAAA,aAAU,AAAD,IACN,IAAI,CAAC,YACL,KAAK,CAAC;YAAM,CAAA,GAAA,mHAAA,CAAA,cAAW,AAAD;YAAK,OAAO,IAAI,CAAC;QAAU,GACjD,OAAO,CAAC,IAAM,WAAW;IAE9B,GAAG;QAAC;KAAO;IAEX,IAAG,SAAS;QACV,qBACE,8OAAC;YAAK,WAAU;sBACd,cAAA,8OAAC;gBAAG,WAAU;0BAAyB;;;;;;;;;;;IAG7C;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,yIAAA,CAAA,UAAM;gBACL,UAAY,QAAQ,QAAQ;gBAC5B,MAAQ,QAAQ,IAAI;gBACpB,UAAU;oBACR,CAAA,GAAA,mHAAA,CAAA,cAAW,AAAD;oBACV,OAAO,IAAI,CAAC;gBACd;;;;;;0BAEF,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0IAAA,CAAA,UAAO;wBACL,MAAQ,QAAQ,IAAI;;;;;;kCAEvB,8OAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;;;;;;;AAWX","debugId":null}}]
}